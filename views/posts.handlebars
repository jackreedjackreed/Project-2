<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>All Posts</title>
  <link href="../assets/css/style-posts.css" rel="stylesheet">
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script> src = "../../tailwind.config.js"</script>
</head>

<body>
  <!-- NAV BAR Partial-->
  {{> navbar}}
  <!-- HEADER/JUMBOTRON -->
  <main class="w-screen mx-auto shadow-2xl jumbo">
    <div class="text-center">
      <br><br><br><br>
      <!-- <img src="/images/library-2.jpeg" alt="Library"> -->
      <h1 class="text-6xl tracking-tight font-extrabold text-gray-900 z-1">
        <span class="block text-white xl:inline">POSTS HANDLEBARS GOOD</span>
      </h1>
      <br><br>
    </div>
  </main>

  <div class="bg-green-800 p-1 mx-auto flex shadow-inner text-center justify-center"></div>


  <!-- DESCRIPTION/DIRECITONS -->
  <div class="mt-10 px-16 mx-auto shadow-inner">
    <div class="mt-15 text-center text-white font-bold text-4xl bg-gradient-to-b from-green-600 to-green-700">
      <br><br><br>
      <div class="max-w-auto text-center justify-center mx-8xl">
        <p>
          Users can add posts to express their thoughts about a current read.
        </p>
        <br>
        <p>
          Check them out below.
        </p>
      </div>

      <br><br><br>
    </div>


    <br><br>
    <!-- Make a new post -->

    <div class="mx-auto shadow-inner">
      <a href="/new-post" id="new-post-link">
        <div class="mb-10 mx-3xl font-extrabold text-3xl text-yellow-300 text-center">
          <br>
          <div class="inline-block bg-gradient-to-b from-green-600 to-green-700 mx-10 px-10 directory shadow-2xl">
            <h2 class="mx-4xl m-3">MAKE A NEW POST</h2>
          </div>
          <br>
        </div>
      </a>
    </div>


    <div class="flex flex-col">
      <div class=" overflow-x-auto sm:-mx-6 lg:-mx-8">
        <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">
          <div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg">
            <table class="min-w-full divide-y divide-gray-200">
              {{#each posts}}
              {{!-- General Header For Each user and their posts--}}
              <thead class="bg-gray-50 justify-evenly">
                <tr>
                  <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase ">
                    Name
                  </th>
                  <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase ">
                    Club
                  </th>
                  <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase ">
                    Favorite Book
                  </th>
                  <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase ">
                    Post Title
                  </th>
                  <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">
                    Date Posted
                  </th>
                  <th scope="col" class="relative px-6 py-3">
                    <span class="sr-only">Posts</span>
                  </th>
                </tr>
              </thead>
              <tbody class="bg-white divide-y divide-gray-200">
                <tr>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <div class="flex items-center">
                      <div class="flex-shrink-0 h-10 w-10">
                        <img class="h-10 w-10 rounded-full" src="assets/images/beach-1.jpeg" alt="">
                      </div>
                      <div class="ml-4">
                        <div class="text-m font-medium text-gray-900">
                          {{dataValues.User.dataValues.name}}
                        </div>
                      </div>
                    </div>
                  </td>
                  <td class="px-4 py-4 whitespace-nowrap">
                    <div class="text-m text-green-500">{{dataValues.User.dataValues.clubName}}</div>
                  </td>
                  <td class="px-4 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-m leading-5 font-medium text-green-700">
                      {{dataValues.User.dataValues.favoriteBook}}
                    </span>
                  </td>
                  <td class="px-4 py-4 whitespace-nowrap">
                    <a href="/single-post">
                      <span class="px-2 inline-flex text-m leading-5 font-medium text-gray-900">
                        {{dataValues.User.dataValues.caption}}
                      </span>
                    </a>
                  </td>
                  <td class="px-4 py-4 whitespace-nowrap">
                    <span class="px-2 inline-flex text-m leading-5 font-medium text-gray-900">
                    {{dataValues.createdAt}}
                    </span>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <a href="/single-user" class="text-indigo-600 hover:text-indigo-900">Posts</a>
                  </td>
                </tr>
                {{/each}}
                <script>
                  fetch('/api/posts')
                    .then(response => response.json())
                    .then((data) => {
                      console.log({ data })
                    })
                    .catch((err) => console.error(err));
                  console.log("hello?")
                </script>
</body>
</html>